# =========================================================
# 电网调度标准预案写作规范
#
# 1. 每个步骤必须编号（1,2,3,…），并包含【输入】和【输出】。
# 2. 所有计算变量必须在"变量定义"部分定义，并保持与公式一致。
# 3. 每个变量需注明单位（MW, kA, 台, …）。
# 4. 计算公式必须用 LaTeX 或清晰的数学表达式表示。
# 5. 数据来源只需描述，不必写具体工具名，由系统自动映射。
# =========================================================

设备故障直流限额计算预案

步骤：
1. 查询停运的<设备>影响的<直流线路>，并判定其位于送端还是受端。
   输入：<设备>
   输出：dc_line, side_info

2. 查询送端电网限额：获取指定直流线路的送端传输限额。
   输入：dc_line
   输出：P_max_send

3. 查询受端电网限额：获取指定直流线路的受端传输限额。
   输入：dc_line
   输出：P_max_receive

4. 计算电网运行方式传输限额：送端限额与受端限额的最小值。
   输入：P_max_send, P_max_receive
   输出：P_max_net

5. 查询设备传输能力：获取换流器运行容量和电流限额信息。
   输入：dc_line
   输出：P_dcsystem

6. 计算设备故障直流限额：电网限额与设备能力的最小值。
   输入：P_max_net, P_dcsystem
   输出：P_max_device

变量定义：
- 送端电网限额：$P_{max\_send}$ （MW）
- 受端电网限额：$P_{max\_receive}$ （MW）
- 电网运行方式传输限额：$P_{max\_net} = \min(P_{max\_send}, P_{max\_receive})$
- 设备传输能力：$P_{dcsystem}$ （MW）
- 设备故障直流限额：$P_{max\_device} = \min(P_{max\_net}, P_{dcsystem})$